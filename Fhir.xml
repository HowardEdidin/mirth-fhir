<codeTemplateLibrary version="3.7.0">
  <id>0ac98fea-6d57-46fa-84a7-5e23211baaa2</id>
  <name>Fhir</name>
  <revision>2</revision>
  <lastModified>
    <time>1574502021823</time>
    <timezone>Asia/Kolkata</timezone>
  </lastModified>
  <description></description>
  <includeNewChannels>false</includeNewChannels>
  <enabledChannelIds>
    <string>a827a980-9c7f-410c-893a-141429f7b30a</string>
  </enabledChannelIds>
  <disabledChannelIds/>
  <codeTemplates>
    <codeTemplate version="3.7.0">
      <id>6c2074b5-91b6-452c-b7f3-97aa8d80419a</id>
      <name>Factory</name>
      <revision>21</revision>
      <lastModified>
        <time>1574586111723</time>
        <timezone>Asia/Kolkata</timezone>
      </lastModified>
      <contextSet>
        <delegate>
          <contextType>DESTINATION_DISPATCHER</contextType>
          <contextType>DESTINATION_FILTER_TRANSFORMER</contextType>
          <contextType>DESTINATION_RESPONSE_TRANSFORMER</contextType>
          <contextType>SOURCE_RECEIVER</contextType>
          <contextType>SOURCE_FILTER_TRANSFORMER</contextType>
        </delegate>
      </contextSet>
      <properties class="com.mirth.connect.model.codetemplates.BasicCodeTemplateProperties">
        <type>FUNCTION</type>
        <code>var fhirObj = function(vendor){
  this.vendorObj = vendor;
  this.init = function(){
    	var url = &quot;http://52.21.3.60:57773/csp/healthshare/hsods/fhir/dstu2/&quot;;
    	var uname = &quot;_System&quot;;
	var pwd = &quot;SYS&quot;;
     var fhir = Packages.com.fhir.client.FhirFactory();
     this.vendorObj = fhir.initFhir(&quot;DSTU2&quot;, url, uname, pwd);
	return this.vendorObj;
   }; 
   this.getPatientFull = function(patientID){
   	  var results = this.vendorObj.getPatientFull(patientID)
       return results;
   }; 
   this.getPatient = function(patientID){
   	  var results = this.vendorObj.getPatient(patientID)
       return results;
   }; 
   this.getPatients = function(){
   	  var results = this.vendorObj.getUserList(&quot;Patient&quot;)
       return results;
   };
   this.getPractitioners = function(){
   	  var results = this.vendorObj.getUserList(&quot;Practitioner&quot;)
       return results;
   };
}</code>
      </properties>
    </codeTemplate>
  </codeTemplates>
</codeTemplateLibrary>